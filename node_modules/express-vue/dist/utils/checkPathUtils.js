'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getCorrectPathForFile = exports.getParamCasePath = undefined;

var _fs = require('fs');

var _fs2 = _interopRequireDefault(_fs);

var _paramCase = require('param-case');

var _paramCase2 = _interopRequireDefault(_paramCase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getParamCasePath(path) {
    // example /Users/foo/code/test/components/componentFile.vue
    var pathArr = path.split('/');

    // gets the last element componentFile.foo
    var fileName = pathArr[pathArr.length - 1];

    // gets the actual file name componentFile
    var newFileName = fileName.split('.vue')[0];

    // paramcases componentFile to component-file and adds. .vue at the end
    var paramCaseFile = (0, _paramCase2.default)(newFileName) + '.vue';

    // replaces last element of the array, with the param'd version of the filename
    pathArr[pathArr.length - 1] = paramCaseFile;

    // returns joined pathname with slashes
    return pathArr.join('/');
}

function getCorrectPathForFile(path, type) {
    var paramCasePath = '';
    if (_fs2.default.existsSync(path)) {
        return path;
    } else if (_fs2.default.existsSync(getParamCasePath(path))) {
        paramCasePath = getParamCasePath(path);
        return paramCasePath;
    } else {
        var err = 'Could not find ' + type + ' file at ' + (paramCasePath.length > 0 ? paramCasePath : path);
        throw new Error(err);
    }
}

exports.getParamCasePath = getParamCasePath;
exports.getCorrectPathForFile = getCorrectPathForFile;