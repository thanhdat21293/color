'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _models = require('./models');

var _utils = require('./utils');

var promiseArray = [];

function expressVue(componentPath, options, callback) {

    var defaults = new _models.Defaults(options);
    promiseArray = (0, _utils.setupComponentArray)(componentPath, defaults);

    Promise.all(promiseArray).then(function (components) {
        (0, _utils.renderComponents)(components, defaults, callback);
    }).catch(function (error) {
        (0, _utils.renderError)(error, callback);
    });
}

exports.default = expressVue;
module.exports = exports['default'];